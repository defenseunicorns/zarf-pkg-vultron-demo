kind: ZarfPackageConfig
metadata:
  name: big-bang-core-demo
  description: "Deploy Big Bang Core - HNCD"
  # Big Bang / Iron Bank are only amd64
  architecture: amd64

components:
  - name: flux
    required: true
    manifests:
      - name: flux-installer
        kustomizations:
          - https://repo1.dso.mil/platform-one/big-bang/bigbang.git//base/flux?ref=1.36.0
    images:
      - registry1.dso.mil/ironbank/fluxcd/helm-controller:v0.21.0
      - registry1.dso.mil/ironbank/fluxcd/kustomize-controller:v0.25.0
      - registry1.dso.mil/ironbank/fluxcd/notification-controller:v0.23.5
      - registry1.dso.mil/ironbank/fluxcd/source-controller:v0.24.4

  - name: bigbang
    description: "Git repositories and OCI images used by Big Bang Core"
    required: true
    repos:
      - https://repo1.dso.mil/platform-one/big-bang/bigbang.git@1.36.0
      - https://repo1.dso.mil/platform-one/big-bang/apps/core/istio-operator.git@1.13.2-bb.1
    images:
      - registry1.dso.mil/ironbank/opensource/istio/operator:1.13.2
    manifests:
      - name: big-bang-config
        kustomizations:
          - "kustomization/bigbang"